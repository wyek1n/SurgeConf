[General]
wifi-assist = true
all-hybrid = true
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3
tls-provider = openssl
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
udp-policy-not-supported-behaviour = REJECT
ipv6 = false
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
http-api = Brian@0.0.0.0:6171
http-api-tls = false
http-api-web-dashboard = true
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local
exclude-simple-hostnames = true
network-framework = true
dns-server = 119.29.29.29, system
read-etc-hosts = true
loglevel = warning
show-error-page-for-reject = true
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
tun-excluded-routes = 239.255.255.250/32
include-all-networks = false
include-local-networks = false
use-local-host-item-for-proxy = false

[Replica]
hide-apple-request = 0
hide-crash-reporter-request = 1
hide-udp = 0


[Proxy]
Direct = direct
Reject = reject

[Proxy Group]
Proxy = select, HK, TW, JP, SG, US
Final = select, Proxy, Direct
WeChat = select, HK, TW, JP, SG, US, Direct
Telegram = select, HK, SG, US
Streaming = select, HK, TW, JP, SG, US
HK = url-test, policy-path=https://sub.prpr.hk/node-list/3498/N08YltFjU0/, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(?=.*(港|HK|(?i)Hong))^((?!(台|日|韩|新|美)).)*$, hidden=0
TW = url-test, policy-path=https://sub.prpr.hk/node-list/3498/N08YltFjU0/, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(?=.*(台|TW|(?i)Taiwan))^((?!(港|日|韩|新|美)).)*$, hidden=0
JP = url-test, policy-path=https://sub.prpr.hk/node-list/3498/N08YltFjU0/, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(?=.*(日|JP|(?i)Japan))^((?!(港|台|韩|新|美)).)*$, hidden=0
SG = url-test, policy-path=https://sub.prpr.hk/node-list/3498/N08YltFjU0/, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(?=.*(新|狮|獅|SG|(?i)Singapore))^((?!(港|台|日|韩|美)).)*$, hidden=0
US = url-test, policy-path=https://sub.prpr.hk/node-list/3498/N08YltFjU0/, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(?=.*(美|US|(?i)States|American))^((?!(港|台|日|韩|新)).)*$, hidden=0

[Rule]
AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP
AND,((PROTOCOL,UDP),(DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
PROCESS-NAME,UUBooster,Direct
PROCESS-NAME,aria2c,Direct
PROCESS-NAME,fdm,Direct
PROCESS-NAME,Folx,Direct
PROCESS-NAME,NetTransport,Direct
PROCESS-NAME,Thunder,Direct
PROCESS-NAME,Transmission,Direct
PROCESS-NAME,uTorrent,Direct
PROCESS-NAME,WebTorrent,Direct
PROCESS-NAME,WebTorrent Helper,Direct
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,Direct
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,Reject
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,Reject
DOMAIN-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge2.txt,Reject
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Reject
DOMAIN-SET,https://raw.githubusercontent.com/mieqq/mieqq/master/In-AppTracker.txt,Reject
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,Reject
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/WeChat/WeChatSG.list,WeChat
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Music/Spotify.list,Streaming
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,Telegram
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list,Direct
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
RULE-SET,LAN,Direct
GEOIP,CN,Direct
FINAL,Final,dns-failed

[Host]
# Apple
aaplimg.com = server:119.29.29.29
apple.com = server:119.29.29.29
apple.com.cn = server:119.29.29.29
apple-cloudkit.com = server:119.29.29.29
apple-mapkit.com = server:119.29.29.29
cdn-apple.com = server:119.29.29.29
icloud.com = server:119.29.29.29
icloud.com.cn = server:119.29.29.29
mzstatic.com = server:119.29.29.29
*.aaplimg.com = server:119.29.29.29
*.apple.com = server:119.29.29.29
*.apple-cloudkit.com = server:119.29.29.29
*.apple-mapkit.com = server:119.29.29.29
*.cdn-apple.com = server:119.29.29.29
*.icloud.com = server:119.29.29.29
*.icloud.com.cn = server:119.29.29.29
*.mzstatic.com = server:119.29.29.29
*apple.com.akadns.net = server:119.29.29.29
*.apple.com.edgekey.net = server:119.29.29.29
*.apple.com.edgekey.net.globalredir.akadns.net = server:119.29.29.29
*icloud.com.akadns.net = server:119.29.29.29

# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# PlayStation
*.dl.playstation.net = server:119.29.29.29

# Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router

# Apple TestFlight
*testflight.apple.com = server:8.8.4.4

[Header Rewrite]

[URL Rewrite]

[SSID Setting]

[MITM]
skip-server-cert-verify = true
hostname = duckduckgo.com, sub.store, boxer.baidu.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, -*.weibo.com, mp.weixin.qq.com, security.wechat.com, weixin110.qq.com, vip1.kuwo.cn, testflight.apple.com, pan.baidu.com, weather-data.apple.com
